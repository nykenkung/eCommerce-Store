const productList = [
{
    "name": "Casual T-Shirt #1",
    "category": "T-SHIRTS",
    "price": 20.32,
    "original": 67.72,
    "discount": "-70%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Casual T-Shirt #2",
    "category": "T-SHIRTS",
    "price": 39.3,
    "original": 87.34,
    "discount": "-55%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Casual T-Shirt #3",
    "category": "T-SHIRTS",
    "price": 29.19,
    "original": 69.51,
    "discount": "-57%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Cardigan Knitwear #4",
    "category": "CARDIGANS",
    "price": 18.98,
    "original": 45.2,
    "discount": "-57%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Denim Outerwear #5",
    "category": "OUTERWEAR",
    "price": 29.57,
    "original": 89.6,
    "discount": "-67%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Cardigan Knitwear #6",
    "category": "CARDIGANS",
    "price": 34.84,
    "original": 82.95,
    "discount": "-57%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Oversized Hoodie #7",
    "category": "HOODIES",
    "price": 23.55,
    "original": 71.35,
    "discount": "-67%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Cardigan Knitwear #8",
    "category": "CARDIGANS",
    "price": 21.18,
    "original": 70.59,
    "discount": "-70%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Casual T-Shirt #9",
    "category": "T-SHIRTS",
    "price": 25.51,
    "original": 72.88,
    "discount": "-65%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Oversized Hoodie #10",
    "category": "HOODIES",
    "price": 18.56,
    "original": 53.02,
    "discount": "-65%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Denim Outerwear #11",
    "category": "OUTERWEAR",
    "price": 36.47,
    "original": 86.83,
    "discount": "-57%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Casual T-Shirt #12",
    "category": "T-SHIRTS",
    "price": 27.11,
    "original": 67.77,
    "discount": "-60%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Basic Sweatpants #13",
    "category": "PANTS",
    "price": 28.04,
    "original": 84.96,
    "discount": "-67%",
    "img": "pant.jpg"
  },
  {
    "name": "Oversized Hoodie #14",
    "category": "HOODIES",
    "price": 14.43,
    "original": 41.23,
    "discount": "-65%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Basic Sweatpants #15",
    "category": "PANTS",
    "price": 17.07,
    "original": 42.68,
    "discount": "-60%",
    "img": "pant.jpg"
  },
  {
    "name": "Oversized Hoodie #16",
    "category": "HOODIES",
    "price": 17.03,
    "original": 42.57,
    "discount": "-60%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Oversized Hoodie #17",
    "category": "HOODIES",
    "price": 16.74,
    "original": 47.84,
    "discount": "-65%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Denim Outerwear #18",
    "category": "OUTERWEAR",
    "price": 33.91,
    "original": 84.77,
    "discount": "-60%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Cardigan Knitwear #19",
    "category": "CARDIGANS",
    "price": 35.91,
    "original": 85.51,
    "discount": "-57%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Basic Sweatpants #20",
    "category": "PANTS",
    "price": 36.24,
    "original": 86.29,
    "discount": "-57%",
    "img": "pant.jpg"
  },
  {
    "name": "Cardigan Knitwear #21",
    "category": "CARDIGANS",
    "price": 16.14,
    "original": 40.35,
    "discount": "-60%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Pullover Sweater #22",
    "category": "SWEATERS",
    "price": 21.48,
    "original": 61.36,
    "discount": "-65%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Basic Sweatpants #23",
    "category": "PANTS",
    "price": 22.7,
    "original": 50.44,
    "discount": "-55%",
    "img": "pant.jpg"
  },
  {
    "name": "Pullover Sweater #24",
    "category": "SWEATERS",
    "price": 22.27,
    "original": 67.47,
    "discount": "-67%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Casual T-Shirt #25",
    "category": "T-SHIRTS",
    "price": 24.08,
    "original": 53.52,
    "discount": "-55%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Casual T-Shirt #26",
    "category": "T-SHIRTS",
    "price": 23.72,
    "original": 71.87,
    "discount": "-67%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Basic Sweatpants #27",
    "category": "PANTS",
    "price": 28.07,
    "original": 80.21,
    "discount": "-65%",
    "img": "pant.jpg"
  },
  {
    "name": "Basic Sweatpants #28",
    "category": "PANTS",
    "price": 19.47,
    "original": 46.35,
    "discount": "-57%",
    "img": "pant.jpg"
  },
  {
    "name": "Cardigan Knitwear #29",
    "category": "CARDIGANS",
    "price": 21.39,
    "original": 64.81,
    "discount": "-67%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Baggy Fit Jeans #30",
    "category": "PANTS",
    "price": 21.8,
    "original": 72.68,
    "discount": "-70%",
    "img": "pant.jpg"
  },
  {
    "name": "Cardigan Knitwear #31",
    "category": "CARDIGANS",
    "price": 17.67,
    "original": 58.91,
    "discount": "-70%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Baggy Fit Jeans #32",
    "category": "PANTS",
    "price": 22.81,
    "original": 57.02,
    "discount": "-60%",
    "img": "pant.jpg"
  },
  {
    "name": "Denim Outerwear #33",
    "category": "OUTERWEAR",
    "price": 16.87,
    "original": 51.13,
    "discount": "-67%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Cardigan Knitwear #34",
    "category": "CARDIGANS",
    "price": 16.06,
    "original": 40.14,
    "discount": "-60%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Cardigan Knitwear #35",
    "category": "CARDIGANS",
    "price": 26.79,
    "original": 66.97,
    "discount": "-60%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Pullover Sweater #36",
    "category": "SWEATERS",
    "price": 13.21,
    "original": 44.04,
    "discount": "-70%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Baggy Fit Jeans #37",
    "category": "PANTS",
    "price": 17.06,
    "original": 40.61,
    "discount": "-57%",
    "img": "pant.jpg"
  },
  {
    "name": "Denim Outerwear #38",
    "category": "OUTERWEAR",
    "price": 24.19,
    "original": 57.59,
    "discount": "-57%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Cardigan Knitwear #39",
    "category": "CARDIGANS",
    "price": 31.44,
    "original": 78.59,
    "discount": "-60%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Pullover Sweater #40",
    "category": "SWEATERS",
    "price": 20.98,
    "original": 49.95,
    "discount": "-57%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Denim Outerwear #41",
    "category": "OUTERWEAR",
    "price": 16.0,
    "original": 45.72,
    "discount": "-65%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Baggy Fit Jeans #42",
    "category": "PANTS",
    "price": 29.58,
    "original": 65.73,
    "discount": "-55%",
    "img": "pant.jpg"
  },
  {
    "name": "Pullover Sweater #43",
    "category": "SWEATERS",
    "price": 24.09,
    "original": 72.99,
    "discount": "-67%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Denim Outerwear #44",
    "category": "OUTERWEAR",
    "price": 16.23,
    "original": 49.18,
    "discount": "-67%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Oversized Hoodie #45",
    "category": "HOODIES",
    "price": 29.24,
    "original": 69.62,
    "discount": "-57%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Cardigan Knitwear #46",
    "category": "CARDIGANS",
    "price": 19.92,
    "original": 66.39,
    "discount": "-70%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Cardigan Knitwear #47",
    "category": "CARDIGANS",
    "price": 27.96,
    "original": 66.56,
    "discount": "-57%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Cardigan Knitwear #48",
    "category": "CARDIGANS",
    "price": 14.5,
    "original": 48.33,
    "discount": "-70%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Casual T-Shirt #49",
    "category": "T-SHIRTS",
    "price": 25.33,
    "original": 60.3,
    "discount": "-57%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Casual T-Shirt #50",
    "category": "T-SHIRTS",
    "price": 19.53,
    "original": 46.5,
    "discount": "-57%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Cardigan Knitwear #51",
    "category": "CARDIGANS",
    "price": 35.64,
    "original": 79.19,
    "discount": "-55%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Cardigan Knitwear #52",
    "category": "CARDIGANS",
    "price": 23.87,
    "original": 72.33,
    "discount": "-67%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Casual T-Shirt #53",
    "category": "T-SHIRTS",
    "price": 26.25,
    "original": 75.01,
    "discount": "-65%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Pullover Sweater #54",
    "category": "SWEATERS",
    "price": 24.97,
    "original": 75.68,
    "discount": "-67%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Casual T-Shirt #55",
    "category": "T-SHIRTS",
    "price": 14.35,
    "original": 43.48,
    "discount": "-67%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Basic Sweatpants #56",
    "category": "PANTS",
    "price": 16.42,
    "original": 54.73,
    "discount": "-70%",
    "img": "pant.jpg"
  },
  {
    "name": "Oversized Hoodie #57",
    "category": "HOODIES",
    "price": 20.84,
    "original": 63.14,
    "discount": "-67%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Pullover Sweater #58",
    "category": "SWEATERS",
    "price": 16.76,
    "original": 47.88,
    "discount": "-65%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Oversized Hoodie #59",
    "category": "HOODIES",
    "price": 23.53,
    "original": 52.3,
    "discount": "-55%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Pullover Sweater #60",
    "category": "SWEATERS",
    "price": 29.45,
    "original": 65.44,
    "discount": "-55%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Pullover Sweater #61",
    "category": "SWEATERS",
    "price": 24.71,
    "original": 58.83,
    "discount": "-57%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Casual T-Shirt #62",
    "category": "T-SHIRTS",
    "price": 21.29,
    "original": 53.23,
    "discount": "-60%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Basic Sweatpants #63",
    "category": "PANTS",
    "price": 16.83,
    "original": 40.07,
    "discount": "-57%",
    "img": "pant.jpg"
  },
  {
    "name": "Casual T-Shirt #64",
    "category": "T-SHIRTS",
    "price": 28.15,
    "original": 80.42,
    "discount": "-65%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Denim Outerwear #65",
    "category": "OUTERWEAR",
    "price": 17.91,
    "original": 54.28,
    "discount": "-67%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Basic Sweatpants #66",
    "category": "PANTS",
    "price": 26.36,
    "original": 79.88,
    "discount": "-67%",
    "img": "pant.jpg"
  },
  {
    "name": "Cardigan Knitwear #67",
    "category": "CARDIGANS",
    "price": 21.44,
    "original": 47.64,
    "discount": "-55%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Cardigan Knitwear #68",
    "category": "CARDIGANS",
    "price": 19.0,
    "original": 47.5,
    "discount": "-60%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Oversized Hoodie #69",
    "category": "HOODIES",
    "price": 33.11,
    "original": 73.58,
    "discount": "-55%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Cardigan Knitwear #70",
    "category": "CARDIGANS",
    "price": 33.86,
    "original": 80.61,
    "discount": "-57%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Baggy Fit Jeans #71",
    "category": "PANTS",
    "price": 27.91,
    "original": 84.59,
    "discount": "-67%",
    "img": "pant.jpg"
  },
  {
    "name": "Basic Sweatpants #72",
    "category": "PANTS",
    "price": 20.51,
    "original": 48.84,
    "discount": "-57%",
    "img": "pant.jpg"
  },
  {
    "name": "Denim Outerwear #73",
    "category": "OUTERWEAR",
    "price": 23.26,
    "original": 66.45,
    "discount": "-65%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Baggy Fit Jeans #74",
    "category": "PANTS",
    "price": 16.5,
    "original": 41.25,
    "discount": "-60%",
    "img": "pant.jpg"
  },
  {
    "name": "Denim Outerwear #75",
    "category": "OUTERWEAR",
    "price": 32.53,
    "original": 81.33,
    "discount": "-60%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Cardigan Knitwear #76",
    "category": "CARDIGANS",
    "price": 19.12,
    "original": 47.8,
    "discount": "-60%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Baggy Fit Jeans #77",
    "category": "PANTS",
    "price": 20.17,
    "original": 57.62,
    "discount": "-65%",
    "img": "pant.jpg"
  },
  {
    "name": "Oversized Hoodie #78",
    "category": "HOODIES",
    "price": 28.65,
    "original": 68.21,
    "discount": "-57%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Basic Sweatpants #79",
    "category": "PANTS",
    "price": 23.57,
    "original": 56.12,
    "discount": "-57%",
    "img": "pant.jpg"
  },
  {
    "name": "Baggy Fit Jeans #80",
    "category": "PANTS",
    "price": 28.58,
    "original": 63.51,
    "discount": "-55%",
    "img": "pant.jpg"
  },
  {
    "name": "Pullover Sweater #81",
    "category": "SWEATERS",
    "price": 30.56,
    "original": 72.75,
    "discount": "-57%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Cardigan Knitwear #82",
    "category": "CARDIGANS",
    "price": 26.99,
    "original": 67.48,
    "discount": "-60%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Oversized Hoodie #83",
    "category": "HOODIES",
    "price": 25.55,
    "original": 56.77,
    "discount": "-55%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Baggy Fit Jeans #84",
    "category": "PANTS",
    "price": 20.88,
    "original": 59.67,
    "discount": "-65%",
    "img": "pant.jpg"
  },
  {
    "name": "Basic Sweatpants #85",
    "category": "PANTS",
    "price": 26.58,
    "original": 88.59,
    "discount": "-70%",
    "img": "pant.jpg"
  },
  {
    "name": "Casual T-Shirt #86",
    "category": "T-SHIRTS",
    "price": 15.82,
    "original": 45.19,
    "discount": "-65%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Cardigan Knitwear #87",
    "category": "CARDIGANS",
    "price": 26.52,
    "original": 75.77,
    "discount": "-65%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Pullover Sweater #88",
    "category": "SWEATERS",
    "price": 15.97,
    "original": 53.24,
    "discount": "-70%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Cardigan Knitwear #89",
    "category": "CARDIGANS",
    "price": 36.09,
    "original": 85.92,
    "discount": "-57%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Pullover Sweater #90",
    "category": "SWEATERS",
    "price": 21.9,
    "original": 52.14,
    "discount": "-57%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Cardigan Knitwear #91",
    "category": "CARDIGANS",
    "price": 15.94,
    "original": 48.29,
    "discount": "-67%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Cardigan Knitwear #92",
    "category": "CARDIGANS",
    "price": 14.8,
    "original": 44.84,
    "discount": "-67%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Denim Outerwear #93",
    "category": "OUTERWEAR",
    "price": 14.5,
    "original": 43.95,
    "discount": "-67%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Casual T-Shirt #94",
    "category": "T-SHIRTS",
    "price": 13.07,
    "original": 43.57,
    "discount": "-70%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Baggy Fit Jeans #95",
    "category": "PANTS",
    "price": 21.95,
    "original": 48.78,
    "discount": "-55%",
    "img": "pant.jpg"
  },
  {
    "name": "Denim Outerwear #96",
    "category": "OUTERWEAR",
    "price": 17.46,
    "original": 43.64,
    "discount": "-60%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Casual T-Shirt #97",
    "category": "T-SHIRTS",
    "price": 21.64,
    "original": 61.82,
    "discount": "-65%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Pullover Sweater #98",
    "category": "SWEATERS",
    "price": 30.86,
    "original": 88.17,
    "discount": "-65%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Casual T-Shirt #99",
    "category": "T-SHIRTS",
    "price": 25.67,
    "original": 61.11,
    "discount": "-57%",
    "img": "..clothing/shirt.jpg"
  },
  {
    "name": "Oversized Hoodie #100",
    "category": "HOODIES",
    "price": 22.17,
    "original": 55.43,
    "discount": "-60%",
    "img": "..clothing/shirt.jpg"
  }
  
  
];

const cart = {};
let totalItems = 0;

function updateCartCount() {
  document.getElementById("cart-count").textContent = totalItems;
}

function renderProducts(filteredList = productList) {
  const grid = document.getElementById("product-grid");
  grid.innerHTML = ""; // Clear grid

  filteredList.forEach((item, index) => {
    const card = document.createElement("div");
    card.className = "product-card";
    card.innerHTML = `
      <img src="${item.img}" alt="${item.name}">
      <p class="product-title">${item.name}</p>
      <p class="price">
        <span class="original-price">$${item.original}</span>
        <span class="discount">${item.discount}</span>
        <span class="final-price">$${item.price}</span>
      </p>
      <button class="add-to-cart" onclick="addToCart(${index})">Add to Cart</button>
      <div class="quantity-controls" id="qty-controls-${index}" style="display:none;">
        <button onclick="changeQty(${index}, -1)">âˆ’</button>
        <span id="qty-${index}">1</span>
        <button onclick="changeQty(${index}, 1)">+</button>
      </div>
    `;
    grid.appendChild(card);
  });
}

function addToCart(index) {
  if (!cart[index]) {
    cart[index] = 1;
    document.getElementById(`qty-controls-${index}`).style.display = "flex";
  } else {
    cart[index]++;
    document.getElementById(`qty-${index}`).textContent = cart[index];
  }
  totalItems++;
  updateCartCount();
  updateCartPreview();
}

function changeQty(index, delta) {
  if (cart[index]) {
    cart[index] += delta;
    if (cart[index] <= 0) {
      totalItems -= 1;
      delete cart[index];
      document.getElementById(`qty-controls-${index}`).style.display = "none";
    } else {
      totalItems += delta;
      document.getElementById(`qty-${index}`).textContent = cart[index];
    }
    updateCartCount();
    updateCartPreview();
  }
}

function updateCartPreview() {
  const container = document.getElementById('cart-items');
  const totalDisplay = document.getElementById('cart-total');
  container.innerHTML = '';
  let total = 0;

  Object.keys(cart).forEach(index => {
    const item = productList[index];
    const qty = cart[index];
    const subtotal = qty * item.price;
    total += subtotal;

    const div = document.createElement('div');
    div.className = 'cart-item';
    div.innerHTML = `${item.name} x ${qty} = $${subtotal.toFixed(2)}`;
    container.appendChild(div);
  });

  totalDisplay.textContent = total.toFixed(2);
}

// Search functionality
document.getElementById("search-bar").addEventListener("input", function () {
  const query = this.value.toLowerCase();
  const filtered = productList.filter(item => item.name.toLowerCase().includes(query));
  renderProducts(filtered);
});

// Category filter
document.querySelectorAll(".category-nav a").forEach(link => {
  link.addEventListener("click", function (e) {
    e.preventDefault();
    const category = this.textContent.trim().toUpperCase();
    if (category === "VIEW ALL") {
      renderProducts(productList);
    } else if (category === "FROM 70% OFF") {
      renderProducts(productList.filter(item => item.discount === "-70%"));
    } else {
      renderProducts(productList.filter(item => item.category === category));
    }
  });
});

// Initial render
renderProducts();
