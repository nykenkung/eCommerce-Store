<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Login/Register - 3140 Active Wear</title>
		<link rel="stylesheet" href="CSS/style.css" />
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" />
		<style>
			main {
				display: flex;
				justify-content: center;
				padding: 10px;
			}
			.form-container {
				background: white;
				padding: 40px 50px;
				border-radius: 15px;
				box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
				width: 100%;
				max-width: 450px;
				min-height: 400px;
			}
			.tabs {
				display: flex;
				margin-bottom: 30px;
				justify-content: center;
				gap: 40px;
			}
			.tab-btn {
				cursor: pointer;
				font-weight: 700;
				font-size: 20px;
				color: #6c84a2;
				border-bottom: 2px solid transparent;
				padding-bottom: 6px;
				transition: all 0.3s ease;
			}
			.tab-btn.active {
				color: #194069;
				border-bottom-color: #194069;
			}
			form {
				display: none;
			}
			form.active {
				display: block;
			}
			.form-row {
				display: flex;
				gap: 10px;
				margin-bottom: 20px;
			}
			input[type="text"],
			input[type="email"],
			input[type="password"] {
				width: 100%;
				padding: 12px 15px;
				font-size: 16px;
				border: 1.5px solid #ccc;
				border-radius: 6px;
				outline: none;
				transition: border-color 0.3s ease;
			}
			input:focus {
				border-color: #194069;
			}
			#password-recovery-section {
				display: none;
				font-size: 18px;
				text-align: center;
			}
			#password-recovery-section h3 {
				font-size: 26px;
				margin-bottom: 15px;
			}
			#password-recovery-section input {
				width: 100%;
				padding: 10px 15px;
				font-size: 16px;
				border: 1.5px solid #ccc;
				border-radius: 6px;
				outline: none;
				margin-top: 15px;
				margin-bottom: 20px;
			}
			#forgot-password-link {
				text-align: center;
			}
			.password-wrapper {
				width: 100%;
				position: relative;
			}
			.password-wrapper i.toggle-password {
				position: absolute;
				right: 15px;
				top: 50%;
				transform: translateY(-50%);
				cursor: pointer;
				color: #999;
			}
		</style>
	</head>
	<body>
		<section id="header">
			<a href="index.html"><img src="Icons/logo.png" class="logo" alt="Site Logo" width="100%" height="250" /></a>
			<div>
				<ul id="navbar">
					<li><a href="index.html">Home</a></li>
					<li><a href="shop.html">Shop</a></li>
					<li><a href="donate.html">Donate</a></li>
					<li class="dropdown">
						<a>Contact ▼</a>
						<ul class="dropdown-content">
							<li><a href="contact.html">Contact us</a></li>
							<li><a href="about.html">About us</a></li>
						</ul>
					</li>
					<li><a class="active" href="login.html" id="login-logout-link">Login/Register</a></li>
					<li>
						<div class="cart-container">
							<a href="cart.html" id="cart-icon">
								<i class="fa fa-shopping-bag" aria-hidden="true"></i>
								<span id="cart-count">0</span>
							</a>
							<div id="cart-preview" class="cart-preview">
								<a href="cart.html" class="button-link white">My Shopping Cart</a>
								<div id="cart-items"></div>
								<div class="cart-total">
									<strong>Total:</strong>
									$
									<span id="cart-total">0.00</span>
								</div>
								<div style="margin-top: 20px; text-align: center">
									<a href="checkout.html" class="button-link">Proceed to Checkout</a>
									<a href="order.html" class="button-link white">My Order History</a>
								</div>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</section>
		<main>
			<div class="form-container">
				<div class="tabs">
					<div class="tab-btn active" id="login-tab">Login</div>
					<div class="tab-btn" id="register-tab">Register</div>
				</div>

				<!-- Login Form -->
				<form id="login-form" class="active">
					<div class="form-row">
						<input type="email" id="login-email" name="email" placeholder="E-mail" required />
					</div>
					<div class="form-row">
						<div class="password-wrapper">
							<input type="password" id="login-password" name="password" placeholder="Password" required />
							<i class="fa fa-eye toggle-password" toggle="#login-password"></i>
						</div>
					</div>
					<button type="submit">Login</button>
					<div class="message" id="login-message"></div>
					<br />
					<div id="forgot-password-link">
						<a href="#" id="forgot-password" style="text-decoration: none; color: #6c84a2">Forgot my password?</a>
					</div>
				</form>

				<!-- Registration Form -->
				<form id="register-form">
					<div class="form-row">
						<input type="text" id="first-name" name="firstName" placeholder="First Name" required />
						<input type="text" id="last-name" name="lastName" placeholder="Last Name" required />
					</div>
					<div class="form-row">
						<input type="email" id="register-email" name="email" placeholder="E-mail" required />
					</div>
					<div class="form-row">
						<div class="password-wrapper">
							<input type="password" id="register-password" name="password" placeholder="Password" required minlength="4" title="Password must be at least 4 characters long" />
							<i class="fa fa-eye toggle-password" toggle="#register-password"></i>
						</div>
					</div>
					<button type="submit">Register</button>
					<div class="message" id="register-message"></div>
				</form>
				<div id="password-recovery-section">
					<h3>Password Recovery</h3>
					<p>Enter your email address, and we'll send you instructions to reset your password.</p>
					<input type="email" id="recovery-email" placeholder="Enter your email" required />
					<button id="send-recovery-email" type="button">Send Recovery Instructions</button>
					<div class="message" id="recovery-message"></div>
					<br />
					<div><a href="login.html" style="text-decoration: none; color: #6c84a2; font-size: 16px">Back to Login</a></div>
				</div>
			</div>
		</main>
		<footer style="padding: 20px; background: #eee; justify-content: center">
			<p style="margin: 0">&copy; 2025 CISC 3140 ACTIVE WEAR (E-commerceProject) – Built with ❤️ by student developers for education.</p>
		</footer>
		<div id="modal" class="modal" role="dialog" aria-modal="true" tabindex="-1">
			<div class="modal-content">
				<h3 id="modal-title"></h3>
				<p id="modal-message"></p>
				<button id="modal-ok-button" type="button">OK</button>
			</div>
		</div>
		<script>
			document.addEventListener("DOMContentLoaded", () => {
				const loginTab = document.getElementById("login-tab")
				const registerTab = document.getElementById("register-tab")
				const loginForm = document.getElementById("login-form")
				const registerForm = document.getElementById("register-form")
				const forgotPasswordLink = document.getElementById("forgot-password")
				const passwordRecoverySection = document.getElementById("password-recovery-section")
				loginTab.addEventListener("click", () => {
					loginTab.classList.add("active")
					registerTab.classList.remove("active")
					loginForm.classList.add("active")
					registerForm.classList.remove("active")
				})
				registerTab.addEventListener("click", () => {
					registerTab.classList.add("active")
					loginTab.classList.remove("active")
					registerForm.classList.add("active")
					loginForm.classList.remove("active")
				})
				forgotPasswordLink.addEventListener("click", (e) => {
					e.preventDefault()
					loginTab.style.display = "none"
					registerTab.style.display = "none"
					loginForm.style.display = "none"
					registerForm.style.display = "none"
					passwordRecoverySection.style.display = "block"
				})
			})

			document.querySelectorAll(".toggle-password").forEach((icon) => {
				icon.addEventListener("click", () => {
					const input = document.querySelector(icon.getAttribute("toggle"))
					const isPassword = input.type === "password"
					input.type = isPassword ? "text" : "password"
					icon.classList.toggle("fa-eye")
					icon.classList.toggle("fa-eye-slash")
				})
			})
			document.querySelectorAll("input").forEach((input) => {
				input.addEventListener("input", () => {
					if (input.checkValidity()) {
						input.classList.add("valid")
						input.classList.remove("invalid")
					} else {
						input.classList.add("invalid")
						input.classList.remove("valid")
					}
				})
			})
		</script>
		<script src="JS/config.js" defer></script>
		<script src="JS/app.js" defer></script>
		<script src="JS/cart-core.js" defer></script>
	</body>
</html>
